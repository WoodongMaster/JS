<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: rgb(0,105,85);
        }
        .box{
            background-color: rgba(255, 255, 255, 0.842);
            width: 400px;
            height: 300px;
            text-align: center;
            margin: auto;
            border-radius: 10px;
            margin-top:10%;
        }
        .id{
            width: 350px;
            height: 50px;
            margin-top: 20px;
            border: none;
            border-radius: 10px;
            outline: none;
            font-size: 20px;
            padding: 0;
            padding-left: 10px;
        }
        .password{
            width: 350px;
            height: 50px;
            margin-top: 20px;
            border: none;
            border-radius: 10px;
            outline: none;
            font-size: 20px;
            padding: 0;
            padding-left: 10px;
            
        }
        .loginbutton{
            width: 360px;
            height: 50px;
            margin-top: 20px;
            border: none;
            border-radius: 10px;
            outline: none;
            font-size: 20px;
            color: white;
            padding: 0;
            background-color: gray;
        }

        .box>div>p{
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <div class="box">
        <form action="">
        <div class="id_box">
            <input type="text" class="id text-field" value="" placeholder="아이디">
        </div>

        <div class="password_box">
            <input type="password" class="password text-field" value="" placeholder="비밀번호">
        </div>
        
        <div class="loginbutton_box">
            <input type="button" class="loginbutton btn-input" value="로그인" disabled>
        </div>
         </form>

        <div class="links">
            <p><ins>비밀번호를 잊어버리셨나요</ins></p>
        </div>

    </div>
    
    <script>
        const btn = document.querySelector(`.btn-input`);
        const inputs = document.querySelectorAll(`.text-field`);
        let trg = -1;
        console.log(inputs);
        
        inputs[0].addEventListener('input', () => { // 아이디 영역
            console.log(trg);
            let upw = document.getElementsByClassName('text-field')[1].value;
                if(upw.length > 7){
                    let uid = document.getElementsByClassName('text-field')[0].value;
                        if(uid.length>7 && trg==1){
                            btn.style.backgroundColor = `rgb(27,188,155)`;
                            btn.disabled=false;
                        }

                }
                else{
                    btn.style.backgroundColor = `gray`;
                    btn.disabled.true;
                }
        })

        inputs[1].addEventListener('input', () => {     // 비밀번호 영역
            console.log(trg);
            let uid = document.getElementsByClassName('text-field')[0].value;
                if(uid.length > 7){
                    let upw = document.getElementsByClassName('text-field')[1].value;
                    let reg = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,12}$/.test(upw);  // 알파벳 최소 하나 숫자 최소 하나 길이는 8개 이상
                    console.log(upw, reg);
                    
                        if(reg){
                            btn.style.setProperty(`background-color`,`rgb(27,188,155)`);
                            btn.disabled=false;
                            trg = 1;
                        }

                        else{
                    btn.style.backgroundColor = `gray`;
                    btn.disabled.true;
                    trg=0;
                }
                }
                else{
                    btn.style.backgroundColor = `gray`;
                    btn.disabled.true;
                    trg=0;
                }
        })
    </script>
</body>
</html>