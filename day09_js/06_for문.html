<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>for 반복문</title>
    <style>
        div img {
            width: 300px;
            height: 300px;
        }
    </style>
</head>

<body>
    <h1>
        java에서와 같은 형식으로 사용 가능
    </h1>
    <ul>
        <li>
            for(초기값, 조건식; 증감식) {
            코드;
            }
        </li>
        <li>
            for(let i=0; i < 10; i++){ code; } </li>
        <li>
            향상된 for문
        </li>
        <li>
            for of = 배열 탐색
            for(let value of Array){
            code;
            }
        </li>
        <li>for in = 객체 안의 내용 탐색
            for(let value in Object){
            code;
            }
        </li>
    </ul>

    <h3>
        가위바위보 게임
    </h3>
    <div>
        <button type="button"><img src="/img/rock.png" alt="" onclick="rcp('rock')"></button>
        <button type="button"><img src="/img/scissors.png" alt="" onclick="rcp('scissors')"></button>
        <button type="button"><img src="/img/paper.png" alt="" onclick="rcp('paper')"></button>
    </div>
    <h3 id="result">

    </h3>

    <script>
        function random(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        let count = 0;
        let win = 0;
        let lose = 0;
        let draw = 0;
        let win_rate = 0;
        
        function rcp(value) {
            let tmp="";

                let cpu = random(1, 3);
                let cpu_rcp = "";
                let player_rcp = "";
                switch (cpu) {
                    case 1:
                        cpu_rcp = "rock"
                        break;
                    case 2:
                        cpu_rcp = "scissors"
                        break;
                    default:
                        cpu_rcp = "paper"
                        break;
                }

                switch (value) {
                    case 'rock':
                        if (cpu_rcp == value) {
                            draw++;
                        }
                        else if (cpu_rcp == 'scissors') {
                            win++;
                        }
                        else {
                            lose++;
                        }
                        count++;
                        break;
                    case 'scissors':
                        if (cpu_rcp == 'rock') {
                            lose++;
                        }
                        else if (cpu_rcp == value) {
                            draw++;
                        }
                        else {
                            win++;
                        }
                        count++;
                        break;
                    case 'paper':
                        if (cpu_rcp == 'rock') {
                            win++;
                        }
                        else if (cpu_rcp == 'scissors') {
                            lose++;
                        }
                        else {
                            draw++;
                        }
                        count++;
                        break;
                }    
            
                win_rate = Math.round((win/count)*100);
                
                tmp = `cpu : ${cpu_rcp}<br>승 : ${win} <br> 패 : ${lose} <br> 무 : ${draw} <br> 판수 : ${count} <br> 승률 : ${win_rate}%`;
                console.log(tmp);
                document.getElementById('result').innerHTML = tmp;
            

        }
    </script>
</body>

</html>